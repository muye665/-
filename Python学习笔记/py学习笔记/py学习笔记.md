## python解释器

将python语言转换为计算机语言

## 第一个py程序

安装py后，在命令提示窗口输入python，然后输入单句代码即可运行。

或者输入python+空格+文件名可运行.py的文件

exit()退出解释器

## IDE（集成开发工具）

pycharm，专用于python的开发

## pycharm使用篇

### 更改主题

![Alt text](https://github.com/muye665/-/blob/main/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/py%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-01-20%20134747.png)

### 更改字体

![Alt text](<屏幕截图 2024-01-20 135007.png>)

### 插件

推荐chinese（中文界面插件）和translation（翻译插件）

### 快捷键

ctrl + alt + s ：打开设置

ctrl + d ：复制并粘贴当前行代码

shift + alt + 上/下 ：将当前行代码上/下移

shift + F6 ：重命名文件

ctrl + f ：搜索

鼠标中键拖动 / alt + shift + 鼠标左键拖动 ：选择列向区域

## python数据类型

| 类型 | 描述 |
|---|---|
| 数字(number) | 整数(int)，浮点数(float)，复数(complex)，布尔(bool) |
|字符串(string)|字符组成，用引号包围|
|列表(list)|有序可变序列|
|元组(tuple)|有序不可变序列|
|集合(set)|无序不重复集合|
|字典(dictionary)|无序key-value集合|

## 注释

1. 三引号之间的（多行注释）

2. #后面的（单行注释）

## print语句

格式： print(内容1,内容2,...)逗号隔开

```py
print("太阳升高", long, "米")
```

print语句结尾会**自动换行**，**加end=''可使结尾不自动换行**，加end=';'可使结尾加上;，以此类推

```py
print("太阳升高", long, "米", end = "")
```

*下一句话直接接在后面，不会换行*

## 变量

定义变量： `变量名 = 变量`

```py
long = 10
```

## type()语句

作用： 查看数据类型，返回()中的数据类型。返回的类型可赋值给变量

格式： type(数据)

*用type()语句查看变量，本质上是查看变量存储的数据的类型*

## 数据类型转换

常见转换： int()、float()、str()

## 标识符

### 命名规则

1. 只能用中文、英文、数字、下划线，其中不能数字开头

2. 大小写敏感

3. 不能用关键字

### 命名规范

1. 最好全小写

## 运算符（部分）

|符号|作用|
|---|---|
|/|除|
|//|取整除|
|%|取余|
|**|指数|

## 字符串

### 1. 定义字符串

1. 单引号
2. 双引号
3. 三引号

### 2. 字符串的拼接

1. 用+拼接字符串

```py
night = "月亮" + "星星"
```

2. 占位字符串%s

```py
age = 10
hight = 160
message = "小明%s岁，身高%scm" % (age,hight)
```

*其中 %s 一一对应后面括号内的内容，且 %s 在括号内*

占位符号有 **%d %f %s**，步骤都是先将数据转换为对应类型，再占位

### 3. 字符串的快速格式化

格式： `f"内容{变量}"`

```py
age = 10
hight = 160
print(f"小明{age}岁，身高{hight}")
```

{}内可以填 age-1 等算式，有结果就行

### 4. 字符串的大小比较

按位比较，从头开始一一对应，有一个大，后面的就不用比较 （"A"<"Z"<"a"<"z"）

## 数字的精度

用 **m.n** 来表示：

1. m代表数字宽度，宽度小于自身时不生效，宽度大于自身时，在前面补足空格（小数点和小数部分也算在宽度内）

2. n代表小数精度，会四舍五入

## input()语句

1. 读取输入，再用一个变量接收即可
2. ()内可以填提示语
3. 接收的数据**都是字符串**

```py
age = input("请输入年龄")
```

***input 输出的提示语不会自动换行！print 输出的会自动换行***

## if else 语句

```py
if age >= 18:
    print("成年")
else:
    print("未成年")
```

*只有缩进的语句是归属 if 的，且对应的if和else应该为同级缩进*

注意事项：**冒号不要漏**

```py
if int(input()) >= 18:
    print("成年")
else:
    print("未成年")
```

*条件判断的时候可以用 input() 减少代码量*

## elif 语句

相当于else if，记得加if的条件和冒号即可

## while 语句

```py
i = 0
while i < 100:
    print(i)
    i += 1
```

*只有缩进的语句是归属 while 的*

条件满足进入while语句，条件不满足退出while语句，一直满足则会无限执行

## 补充：制表符 \t

效果等同于tab键

## for语句

与while的区别主要是：for循环是轮询的机制，对内容逐个处理，而while循环是自动控制循环条件

格式：
```py
for 临时变量 in 序列类型 #（字符串、元组、列表等）:
    循环内容
```

## range语句

格式：
```py
range(数字1,数字2,步长)
```
*从数字1到数字2，**不包含数字2***

## continue语句

作用：中断本次循环，进入下一轮循环

## break语句

作用：直接结束该层循环

## len()函数

作用：统计长度

## 函数

### 1. 定义格式：

```py
def 函数名(传入参数):
    函数体
    return 返回值
```

*传入参数和返回值可有可无，传入参数之间逗号隔开*

### 2. return返回多个参数

用逗号隔开即可，例：

```py
def 函数名(传入参数):
    函数体
    return 返回值1, 返回值2

a, b = 函数名() #多个返回值与多个变量一一对应
```

### 3. 传参方式

1. 位置传参

    传递的参数和定义的参数顺序一一对应

2. 关键字传参

    ```py
    def user(name, age, gender):
    # 调用：
    user(age = 18, gender = "男"， name = "小明") # 关键字传参可以不按照顺序
    user("小明", gender = "男", age = 18)         # 和位置传参共用时，必须先用位置传递
    ```

3. 缺省传参（默认参数）

    函数调用时，如果缺省参数修改则用修改值，否则用默认值

    ```py
    def user(name, age, gender = "男"):
    # 调用：
    user("小明", 18， "女")  # gender = "女"
    user("小明", 18)         # gender = "男"
    ```

4. 不定长传参

    1. 位置不定长

        以*号标记形参，以**元组**的方式接受参数，一般命名为args

        ```py
        def user(*args):
        # 调用：
        user(18, "男"，"小明")
        # ->函数中 args = (18, "男"，"小明")
        ```

    2. 关键字不定长

        以\*\*号标记形参，以**字典**的形式接收参数，一般命名为kwargs

        ```py
        def user(**kwards):
        # 调用：
        user(name = "小明", age = 18， gender = "女") 
        # ->函数中 args = (name: "小明", age： 18, gender： "女")
        ```

### 4. 函数作为参数传递

1. 函数本身可以作为一个参数，传入其他函数中进行使用

    ```py
    def cot(m): 
        x = m(1, 2) #此时m()即为函数bijiao()
        print(f"{x}")

    def bijiao(a,b):
        return a+b

    cot(bijiao)
    ```

2. 将函数传入的作用在于传入一个计算逻辑，方便调用其他函数，而非传入数据

### 5. lambda匿名函数

格式：

```py
lambda 传入参数: 函数体(一行代码)
```

注意事项：

1. 匿名函数用于临时构建一个变量，**只使用一次场景**，让代码更简洁

2. 匿名函数**只能写一行代码**，用多行代码的函数请用def

例：

```py
def cot(m): 
    x = m(1, 2) #此时m()即为函数bijiao()
    print(f"{x}")
#写法一：
def bijiao(a,b):
    return a+b
cot(bijiao)
#写法二：
cot(lambda a, b:(a+b)) #更加简洁
```

## 逻辑运算符

python|c
:---:|:---:
not|!
and|&&
or|\|\|

## None

含义：代表空，if 中相当于 false

注意 N 大写

## 全局变量与局部变量

在函数内定义与全局变量同名的变量，函数内的仍然是局部变量，且在函数内部更改不会影响外部的值

## global关键字

作用：可以在函数内部声明变量为全局变量

格式：

```py
def test():
    global num
    num = 100
```

*此时num为全局变量*

## 列表

### 1. 定义列表

```py
name_list = [apple, banana, orange]
```

存储的元素可以为不同数据类型，支持嵌套

### 2. 定义空列表

```py
name_list = []
name_list = list()
```

### 3. 列表的下标索引

从左往右，0开始递增

格式：列表 [ 对应下标 ]

```py
name_list = [apple, banana, orange]
print(name_list[1])
```

*打印出列表的第2个元素*

### 4. 列表的反向下标索引

从右往左，-1开始递减

### 5. 嵌套链表的下标索引

先写外层索引，再写内层索引

```py
name_list[0][2]
```

### 6. 列表下标查询—.index()

格式：

```py
列表.index(要查询的元素)
```

*返回对应元素的**下标值**，找不到会报错*

### 7. 修改特点列表元素

格式：

```py
name_list[1] = pear
```

*将1号元素改成pear*

### 8. 插入元素—.insert()

格式：

```py
列表.insert(要插入的下标,要插入的元素)
```

### 9. 尾部增加元素 1 —.append()

格式：

```py
列表.append(要插入的元素)
```

*将**单个**元素插入快速到列表尾部*

### 10. 尾部增加元素 2 —.extend()

格式：

```py
列表.extend(其他数据容器)
```

将其他数据容器的数据取出，添加到其尾部

```py
name_list.extend([[watermelon,pineapple]])
```
*将**一批**元素插入快速到列表尾部*

### 11.删除元素 1 — del

格式：

```py
del 列表[下标]
```

### 12.删除元素 2 — .pop

格式：

```py
列表.pop(下标)
```

*与del不同的是，.pop删除的元素可以用一个变量来接收*

```py
new = name_list.pop(1)
```

### 12.删除元素 3 — .remove()

格式：

```py
列表.remove(元素)
```

*删除列表中的**第一个**匹配项*

### 13. 清空列表 — .clear()

格式：

```py
列表.clear()
```

### 14. 统计某个元素在表中的数量 — .count()

格式：

```py
列表.count(元素)
```

*返回列表中该元素的数量*

### 15. 统计列表中所有元素的数量 — len()

格式：

```py
len(列表)
```

*返回列表中所有元素的数量*

## 元组

### 1. 定义元组

```py
t1 = (1, "hellow", 1.1)
t2 = ()      #定义空元组法 1
t3 = tuple() #定义空元组法 2
```

*元组不可修改，但元组里的列表可以修改*

### 2. 相关操作

```py
index() #查元素下标
count() #数某个元素数量
len() #数全部元素数量
```

*和列表的使用方法一样*

## 字符串的常用操作

操作|格式|作用
:---|:---|:---
取字符|字符串[下标]|取出对应下标的字符
查下标|字符串.index(字符串)|查找给定字符串的第一个匹配项下标
**替换字符串**|字符串.replace(字符串1， 字符串2)|将字符串内全部字符串1替换为字符串2，**不会修改原字符串**，而是得到一个**新的字符串**（可以用变量接收）
**切割字符串**|字符串.split(字符串)|按给定的字符串，对字符串进行分割，**不改变原字符串**，而是得到一个**新的列表**
规整字符串|字符串.strip() / 字符串.strip(字符串)|移除首尾空格和换行符 / 移除首尾指定字符串
统计某个字符串|字符串.count(字符串)|统计某字符串出现的次数
统计字符|len(字符串)|统计字符串中字符的个数

***字符串不可修改***

## 序列的切片

定义：连续，有下标的数据容器，如：字符串，元组，列表

格式：

```py
序列[起始下标:结束下标(不含):步长]
```

1. 起始下标留空，从头开始。结束下标留空，截取到结尾。步长留空，默认1。

2. 步长为负代表反向取，从后往前注意起始下标和结束下标的改变

示例1：

```py
name = "apple"
word = name[3:1:-1]
print(f"{word}")
# ->输出结果为 "lp"
```

示例2：

```py
name = [1, 3, 5 ,7, 9]
word = name[::-1]
print(f"{word}")
# ->输出结果为 [9, 7, 5, 3, 1]
```

*将序列倒序排列*

## 集合

定义：元素不重复，内容无序（无下标），可以修改

特点：不支持while循环，但支持for循环

### 1. 集合的定义

格式：

```py
a = {元素, 元素, ...} #定义集合
a = set()  #定义空集合
a = {元素,}  #定义单个集合（多打一个逗号）
```

### 2. 集合的相关操作

操作|格式|作用
:---|:---|:---
加元素|集合.add(元素)|-
除元素|集合.remove(元素)|-
取出元素|集合.pop|从集合中**随机取走**一个元素（会改变集合）
清空集合|集合.clear|-
**求差集**|集合1.difference(集合2)|得到一个**新集合**，其为集合1 减 集合1和2共有的元素，原集合1,2不变
**消除差集**|集合1.difference_updata(集合2)|**将集合1**减去集合1和2共有的元素，集合2不变
**求并集**|集合1.union(集合2)|得到一个新集合，其为集合1和2的并集，原集合1,2不变
数元素|len(集合)|-

## 字典

定义：key和value对应

### 1. 字典的特点

1. key不重复（重复的话后面的数据会覆盖前面的）
2. 无下标，只能通过key查找value
3. key和value可以为任何类型（但key不能是字典）
4. 可以修改
5. 可以用for循环（法1直接将字典放进in后面，每次取字典的key。法2先提取所有的key再放进in后面）

定义格式：

```py
a = {key: value, key: value, ...} #定义字典
a = {}      #定义空字典法1
a = dict()  #定义空字典法2
```

检索 value：

```py
x = a[key]
print(f"{x}")
# ->打印出key对应的value
```

### 2. 字典的常用操作

操作|格式|作用
:---|:---|:---
获取value|字典[key]|-
增加/更新键值对|字典[key] = value|-
删除键值对|字典.pop(key)|取出key对应的value，并删除该键值对
清空字典|字典.clear()|-
统计元素|len(字典)|-
获取全部的key|字典.keys()|得到字典中所有的key

## 数据容器

### 1. 对比

-|列表|元组|字符串|集合|字典
:---|:---|:---|:---|:---|:---
元素类型|任意|任意|字符|任意|key不能为字典，value任意
下标索引|支持|支持|支持|不支持|不支持（只能key索引）
重复元素|支持|支持|支持|不支持|不支持
可修改性|可|不可|不可|可|可
数据有序|有序|有序|有序|无序|无序

### 2. 通用功能

功能|描述
:---|:---
for循环|遍历容器（字典是遍历key）
max()|容器内最大元素（字典是取最大的key）
min()|容器内最小元素
len()|容器元素个数
list()|转换为列表（字典只转换key）
tuple()|转换为元组
str()|转换为字符串（列表、元组等会保留括号、逗号、空格等）
set()|转换为集合（字符串和字典转换后会乱序）
sorted(序列, [rever=True])|排序，加上[rever=True]代表降序，得到一个排序好的列表，不会改变原容器（字典只排序key）

## 文件

### 文件编码

UTF-8  （全球通用编码）  
GBK  （早期中文）  
Big5  （繁体字用较多）

### 文件读取

### open()

格式：

```py
open(name, mode, encoding)
```

name: 要打开目标文件名的字符串

mode: 打开模式

模式|描述
---|---
r|只读方式打开。文件指针放在开头，是默认模式
w|打开文件只用于写入。如果打开已打开文件，从头开始编辑，原有内容会被删除；文件不存在，则创建新文件
a|打开文件用于追加。如果打开已打开文件，新内容写入原有内容之后；文件不存在，则创建新文件进行写入

encoding：文件编码

`encoding = "UTF-8"`

示例：

```py
f=open('D:\\python.txt','r',encoding=” UTF-8)
# encoding的顺序不是第三位，所以不能用位置参数，用关键字参数直接指定
```

### 操作汇总

模式|功能
---|---
文件对象 = open(file,mode,encoding)|打开文件获得文件对象
文件对象.read(num)|读取指定长度字节|不指定num读取文件全部
文件对象.readline()|读取一行
文件对象.readlines()|读取全部行，得到列表
for line in 文件对象:|for循环文件行，一次循环得到一行数据赋到line中
文件对象.close()|关闭文件对象
with open(file,mode,encoding) as 文件对象:|通过with open语法打开文件，可以自动关闭

### 文件的写入

1. 写入文件使用open函数的"w"模式写入

2. 写入的方法

    .wirte()，写入内容

    .flush()，刷新内容到硬盘中

    注：close()方法，带有flush()方法的功能

3. "w"模式注意事项

    文件不存在，会创建新文件

    文件存在，会清空原有内容

## 捕获异常

意义：在可能异常的地方捕获，并提供解决方案

语法：

```py
try:
    可能要发生异常的语句
except 异常 as 别名: #异常诸如 Exception,NameError等，别名则是用变量接收异常信息。有多个异常带上括号
    出现异常的准备手段
else:
    未出现异常时应做的事情
finally:
    不管出不出现异常都会做的事情
```

捕获所有异常：

```py
except:
#或：
except Exception:
```

## 模块和包

1. 导入模块

    ```[from 模块名]import[模块 |类|变量 |函数 |*][as 别名]```

2. **常用的组合形式**

    import 模块名  
    from 模块名 import 类、变量、方法等  
    from 模块名 import *  
    import模块名 as 别名  
    from模块名import功能名as别名  

3. 注意事项

    - from可以省略，直接import即可

    - as别名可以省略

    - 通过 . 来确定层级关系

### 自定义模块

1. 创建和导入自定义模块

    在Python代码文件中正常写代码即可，通过import、from关键字和导入Python内置模块一样导入即可使用。

2. __main\_\_ 变量的功能

    __main__表示，只有当程序是直接执行的才会进入```if__name__ == '__main__:'```内部，如果是被导入的，则无法进入if（可以用于模块内部测试）

3. 注意事项

    - 不同模块，同名的功能，如果都被导入，那么后导入的会覆盖先导入的

    - \_\_all__ 变量可以控制import *的时候哪些功能可以被导入（在模块内部写）

        例：
        `__all__ = ['module_1, module_2']`
        使用import*的时候

### 包

1. 什么是Python的包?

    包就是一个文件夹，里面可以存放许多 Python 的模块(代码文件)。将一批模块归为一类，方便使用。

2. \_\_init\_\_.py文件的作用?

    创建包会默认自动创建的文件，通过这个文件来表示一个文件夹是 Python 的包，而非普通的文件夹。

3. \_\_all\_\_ 变量的作用?

    同模块中学习到的是一个作用，控制 import* 能够导入的内容，用在 \_\_init\_\_.py 文件中

4. **安装第三方包**

    - 在命令提示符内:

    ```wd
        pip install包名称
        pip install -i https://pypi.tuna.tsinghua.edu.cn/simple 包名称
    ```

    - 也可以在 PyCharm 中安装

### JSON

1. 定义

    是一种轻量级的数据交互格式，采用完全独立于编程语言的文本格式来存储和表示数据，（**就是字符串**）Python 语言使用 JSON 有很大优势 （因为 JSON 可以直接和 Python 的字典或列表进行无缝转换。）

2. 格式

    JSON是**一个单独的字典**或**一个内部元素都是字典的列表**

3. json格式数据转化

    - 通过`json.dumps(data)`方法，把 python 数据转化为 json 数据

        ```py
        data = json.dumps(data)
        ```

        如果有中文可以带上：`ensure ascii=False`参数来确保中文正常转换

    - 通过`json.loads(data, ensure ascii=False)`方法，把 json 数据转化为    python 列表或字典

        ```py
        data=json.loads(data)
        ```
        
## 类与对象

### 使用对象组织数据

在程序中是可以做到和生活中的那样，设计表格、生产表格、填写表格的组织形式的。

1. 在程序中设计表格，我们称之为：设计类(class)

    ```py
    class Student:
        name = None
    # 记录学生姓名
    ```

2. 在程序中打印生产表格，我们称之为：创建对象

    ```py
    #基于类创建对象
    stu_1 = Student()
    stu_2 = Student()
    ```

3. 在程序中填写表格，我们称之为：对象属性赋值

    ```py
    stu_1.name ="周杰轮"
    # 为学生1对象赋予名称属性值

    stu_2.name ="林军杰"
    #为学生2对象赋予名称属性值
    ```

### 类

1. 定义类语法

    ```py
    class 类名称:   #class是关键字，表示要定义类了

    类的属性    #定义在类中的变量(成员变量)

    类的行为    #定义在类中的函数(成员方法)
    ```

2. 创建类对象

    ```py
    对象 = 类名称() #创建类对象

    对象.成员变量  #操作类对象
    对象.成员方法()
    ```

3. 在类中定义成员方法

    ```py
    class a:
        def 方法名(self, 形参1, ..., 形参N):
            方法体
    ```

    - self 关键字是成员方法定义的时候，**必须填写**的，但调用时不占用参数位置，无需理会。

    - 在方法内部，self 能访问类的成员变量，例：

    ```py
    def
        print{self.成员变量}
    ```

4. __init__构造方法

    Python类可以使用: \_\_init__() 方法，称之为构造方法。

    ```py
    class student:
        names =None
        ages = None #可以省略
        tels = None

        def __init__(self, name, age, tel):
            self.names = name
            self.ages = age
            self.tels = tel
            print("student类创建了一个对象")

    stu = student("周杰轮", 31, "18500006666")
    ```

    - 在创建类对象(构造类)的时候，会自动执行。

    - 在创建类对象(构造类)的时候，将传入参数自动传递给init方法使用。

5. 其他构造方法

    方法|功能
    ---|---
    \_\_init__|构造方法，可用于创建类对象的时候设置初始化行为
    \_\_str__|用于实现类对象转字符串的行为
    \_\_lt__|用于2个类对象进行小于或大于比较
    \_\_le__|用于2个类对象进行小于等于或大于等于比较
    \_\_eq__|用于2个类对象进行相等比较

    注：

    - 内置函数__lt__就是定义类的大小比较规则。

    - __str__就是定义打印规则，所以使用时直接用 < 或 > 号就代表着调用__lt__这个内置方法。

    例：

    ```py
    class student:

        def __init__(self, age):
            self.age = age    

        def __lt__(self, other):
            return self.age > other.age

        def __str__(self):
            return f"年龄为{self.age}"

    a = student(18)
    b = student(20)

    print(a>b)  #结果为 false
    print(a)    #输出结果为字符串："年龄为18"
    ```

### 封装

1. 为什么需要私有成员?

    现实事物有部分属性和行为是不公开对使用者开放的。同样在类中描述属性和方法的时候也需要达到这个要求，就需要定义私有成员了

2. 定义私有成员

    成员变量和成员方法的命名均**以 _ _（双下划线）作为开头**即可

3. 私有成员的访问限制

    类对象无法访问私有成员
    类中的其它成员可以访问私有成员

### 复写

1. 意义

    对父类的成员属性或成员方法进行重新定义

2. 复写语法

    在子类中重新实现同名成员方法或成员属性即可（新的覆盖旧的）

3. 在子类中调用父类成员

    方式1:
    调用父类成员

    ```py
    父类名.成员变量
    父类名.成员方法(self)
    ```

    方式2:
    使用super()调用父类成员

    ```py
    super().成员变量
    super().成员方法()
    ```

    注意:**只可以在子类内部调用父类的同名成员**，子类的实体类对象调用默认是调用子类复写的
